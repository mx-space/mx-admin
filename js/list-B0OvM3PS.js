import{d as lt,A as Gt,u as Wt,r as ht,w as zt,g as pt,a9 as jt,aa as qt,h as $t,i as w,P as Vt,H as Ut,j as fe,R as xt,K as Kt,B as qe,m as Qt,M as Zt,n as Jt,T as en,q as gt}from"./index-BfIRmUdd.js";import{p as $e}from"./pages-Cf_hRLI-.js";import{F as tn}from"./file-text-DJGdQDPF.js";import{G as nn}from"./grip-vertical-9qto-BSo.js";/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function mt(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,t)}return n}function j(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mt(Object(n),!0).forEach(function(t){rn(r,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))})}return r}function ke(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ke=function(e){return typeof e}:ke=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(r)}function rn(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function U(){return U=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r},U.apply(this,arguments)}function on(r,e){if(r==null)return{};var n={},t=Object.keys(r),o,i;for(i=0;i<t.length;i++)o=t[i],!(e.indexOf(o)>=0)&&(n[o]=r[o]);return n}function an(r,e){if(r==null)return{};var n=on(r,e),t,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(o=0;o<i.length;o++)t=i[o],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(r,t)&&(n[t]=r[t])}return n}var ln="1.15.6";function V(r){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(r)}var K=V(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ie=V(/Edge/i),vt=V(/firefox/i),_e=V(/safari/i)&&!V(/chrome/i)&&!V(/android/i),st=V(/iP(ad|od|hone)/i),Tt=V(/chrome/i)&&V(/android/i),Ct={capture:!1,passive:!1};function y(r,e,n){r.addEventListener(e,n,!K&&Ct)}function v(r,e,n){r.removeEventListener(e,n,!K&&Ct)}function Le(r,e){if(e){if(e[0]===">"&&(e=e.substring(1)),r)try{if(r.matches)return r.matches(e);if(r.msMatchesSelector)return r.msMatchesSelector(e);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(e)}catch{return!1}return!1}}function It(r){return r.host&&r!==document&&r.host.nodeType?r.host:r.parentNode}function G(r,e,n,t){if(r){n=n||document;do{if(e!=null&&(e[0]===">"?r.parentNode===n&&Le(r,e):Le(r,e))||t&&r===n)return r;if(r===n)break}while(r=It(r))}return null}var bt=/\s+/g;function R(r,e,n){if(r&&e)if(r.classList)r.classList[n?"add":"remove"](e);else{var t=(" "+r.className+" ").replace(bt," ").replace(" "+e+" "," ");r.className=(t+(n?" "+e:"")).replace(bt," ")}}function h(r,e,n){var t=r&&r.style;if(t){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(r,""):r.currentStyle&&(n=r.currentStyle),e===void 0?n:n[e];!(e in t)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),t[e]=n+(typeof n=="string"?"":"px")}}function he(r,e){var n="";if(typeof r=="string")n=r;else do{var t=h(r,"transform");t&&t!=="none"&&(n=t+" "+n)}while(!e&&(r=r.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function Ot(r,e,n){if(r){var t=r.getElementsByTagName(e),o=0,i=t.length;if(n)for(;o<i;o++)n(t[o],o);return t}return[]}function z(){var r=document.scrollingElement;return r||document.documentElement}function C(r,e,n,t,o){if(!(!r.getBoundingClientRect&&r!==window)){var i,a,l,s,u,c,f;if(r!==window&&r.parentNode&&r!==z()?(i=r.getBoundingClientRect(),a=i.top,l=i.left,s=i.bottom,u=i.right,c=i.height,f=i.width):(a=0,l=0,s=window.innerHeight,u=window.innerWidth,c=window.innerHeight,f=window.innerWidth),(e||n)&&r!==window&&(o=o||r.parentNode,!K))do if(o&&o.getBoundingClientRect&&(h(o,"transform")!=="none"||n&&h(o,"position")!=="static")){var m=o.getBoundingClientRect();a-=m.top+parseInt(h(o,"border-top-width")),l-=m.left+parseInt(h(o,"border-left-width")),s=a+i.height,u=l+i.width;break}while(o=o.parentNode);if(t&&r!==window){var E=he(o||r),b=E&&E.a,D=E&&E.d;E&&(a/=D,l/=b,f/=b,c/=D,s=a+c,u=l+f)}return{top:a,left:l,bottom:s,right:u,width:f,height:c}}}function yt(r,e,n){for(var t=te(r,!0),o=C(r)[e];t;){var i=C(t)[n],a=void 0;if(a=o>=i,!a)return t;if(t===z())break;t=te(t,!1)}return!1}function pe(r,e,n,t){for(var o=0,i=0,a=r.children;i<a.length;){if(a[i].style.display!=="none"&&a[i]!==p.ghost&&(t||a[i]!==p.dragged)&&G(a[i],n.draggable,r,!1)){if(o===e)return a[i];o++}i++}return null}function ut(r,e){for(var n=r.lastElementChild;n&&(n===p.ghost||h(n,"display")==="none"||e&&!Le(n,e));)n=n.previousElementSibling;return n||null}function X(r,e){var n=0;if(!r||!r.parentNode)return-1;for(;r=r.previousElementSibling;)r.nodeName.toUpperCase()!=="TEMPLATE"&&r!==p.clone&&(!e||Le(r,e))&&n++;return n}function wt(r){var e=0,n=0,t=z();if(r)do{var o=he(r),i=o.a,a=o.d;e+=r.scrollLeft*i,n+=r.scrollTop*a}while(r!==t&&(r=r.parentNode));return[e,n]}function sn(r,e){for(var n in r)if(r.hasOwnProperty(n)){for(var t in e)if(e.hasOwnProperty(t)&&e[t]===r[n][t])return Number(n)}return-1}function te(r,e){if(!r||!r.getBoundingClientRect)return z();var n=r,t=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=h(n);if(n.clientWidth<n.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return z();if(t||e)return n;t=!0}}while(n=n.parentNode);return z()}function un(r,e){if(r&&e)for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r}function Ve(r,e){return Math.round(r.top)===Math.round(e.top)&&Math.round(r.left)===Math.round(e.left)&&Math.round(r.height)===Math.round(e.height)&&Math.round(r.width)===Math.round(e.width)}var Se;function At(r,e){return function(){if(!Se){var n=arguments,t=this;n.length===1?r.call(t,n[0]):r.apply(t,n),Se=setTimeout(function(){Se=void 0},e)}}}function dn(){clearTimeout(Se),Se=void 0}function Pt(r,e,n){r.scrollLeft+=e,r.scrollTop+=n}function Nt(r){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(r).cloneNode(!0):n?n(r).clone(!0)[0]:r.cloneNode(!0)}function Ft(r,e,n){var t={};return Array.from(r.children).forEach(function(o){var i,a,l,s;if(!(!G(o,e.draggable,r,!1)||o.animated||o===n)){var u=C(o);t.left=Math.min((i=t.left)!==null&&i!==void 0?i:1/0,u.left),t.top=Math.min((a=t.top)!==null&&a!==void 0?a:1/0,u.top),t.right=Math.max((l=t.right)!==null&&l!==void 0?l:-1/0,u.right),t.bottom=Math.max((s=t.bottom)!==null&&s!==void 0?s:-1/0,u.bottom)}}),t.width=t.right-t.left,t.height=t.bottom-t.top,t.x=t.left,t.y=t.top,t}var F="Sortable"+new Date().getTime();function cn(){var r=[],e;return{captureAnimationState:function(){if(r=[],!!this.options.animation){var t=[].slice.call(this.el.children);t.forEach(function(o){if(!(h(o,"display")==="none"||o===p.ghost)){r.push({target:o,rect:C(o)});var i=j({},r[r.length-1].rect);if(o.thisAnimationDuration){var a=he(o,!0);a&&(i.top-=a.f,i.left-=a.e)}o.fromRect=i}})}},addAnimationState:function(t){r.push(t)},removeAnimationState:function(t){r.splice(sn(r,{target:t}),1)},animateAll:function(t){var o=this;if(!this.options.animation){clearTimeout(e),typeof t=="function"&&t();return}var i=!1,a=0;r.forEach(function(l){var s=0,u=l.target,c=u.fromRect,f=C(u),m=u.prevFromRect,E=u.prevToRect,b=l.rect,D=he(u,!0);D&&(f.top-=D.f,f.left-=D.e),u.toRect=f,u.thisAnimationDuration&&Ve(m,f)&&!Ve(c,f)&&(b.top-f.top)/(b.left-f.left)===(c.top-f.top)/(c.left-f.left)&&(s=hn(b,m,E,o.options)),Ve(f,c)||(u.prevFromRect=c,u.prevToRect=f,s||(s=o.options.animation),o.animate(u,b,f,s)),s&&(i=!0,a=Math.max(a,s),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},s),u.thisAnimationDuration=s)}),clearTimeout(e),i?e=setTimeout(function(){typeof t=="function"&&t()},a):typeof t=="function"&&t(),r=[]},animate:function(t,o,i,a){if(a){h(t,"transition",""),h(t,"transform","");var l=he(this.el),s=l&&l.a,u=l&&l.d,c=(o.left-i.left)/(s||1),f=(o.top-i.top)/(u||1);t.animatingX=!!c,t.animatingY=!!f,h(t,"transform","translate3d("+c+"px,"+f+"px,0)"),this.forRepaintDummy=fn(t),h(t,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),h(t,"transform","translate3d(0,0,0)"),typeof t.animated=="number"&&clearTimeout(t.animated),t.animated=setTimeout(function(){h(t,"transition",""),h(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},a)}}}}function fn(r){return r.offsetWidth}function hn(r,e,n,t){return Math.sqrt(Math.pow(e.top-r.top,2)+Math.pow(e.left-r.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*t.animation}var se=[],Ue={initializeByDefault:!0},Oe={mount:function(e){for(var n in Ue)Ue.hasOwnProperty(n)&&!(n in e)&&(e[n]=Ue[n]);se.forEach(function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),se.push(e)},pluginEvent:function(e,n,t){var o=this;this.eventCanceled=!1,t.cancel=function(){o.eventCanceled=!0};var i=e+"Global";se.forEach(function(a){n[a.pluginName]&&(n[a.pluginName][i]&&n[a.pluginName][i](j({sortable:n},t)),n.options[a.pluginName]&&n[a.pluginName][e]&&n[a.pluginName][e](j({sortable:n},t)))})},initializePlugins:function(e,n,t,o){se.forEach(function(l){var s=l.pluginName;if(!(!e.options[s]&&!l.initializeByDefault)){var u=new l(e,n,e.options);u.sortable=e,u.options=e.options,e[s]=u,U(t,u.defaults)}});for(var i in e.options)if(e.options.hasOwnProperty(i)){var a=this.modifyOption(e,i,e.options[i]);typeof a<"u"&&(e.options[i]=a)}},getEventProperties:function(e,n){var t={};return se.forEach(function(o){typeof o.eventProperties=="function"&&U(t,o.eventProperties.call(n[o.pluginName],e))}),t},modifyOption:function(e,n,t){var o;return se.forEach(function(i){e[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[n]=="function"&&(o=i.optionListeners[n].call(e[i.pluginName],t))}),o}};function pn(r){var e=r.sortable,n=r.rootEl,t=r.name,o=r.targetEl,i=r.cloneEl,a=r.toEl,l=r.fromEl,s=r.oldIndex,u=r.newIndex,c=r.oldDraggableIndex,f=r.newDraggableIndex,m=r.originalEvent,E=r.putSortable,b=r.extraEventProperties;if(e=e||n&&n[F],!!e){var D,Y=e.options,q="on"+t.charAt(0).toUpperCase()+t.substr(1);window.CustomEvent&&!K&&!Ie?D=new CustomEvent(t,{bubbles:!0,cancelable:!0}):(D=document.createEvent("Event"),D.initEvent(t,!0,!0)),D.to=a||n,D.from=l||n,D.item=o||n,D.clone=i,D.oldIndex=s,D.newIndex=u,D.oldDraggableIndex=c,D.newDraggableIndex=f,D.originalEvent=m,D.pullMode=E?E.lastPutMode:void 0;var A=j(j({},b),Oe.getEventProperties(t,e));for(var L in A)D[L]=A[L];n&&n.dispatchEvent(D),Y[q]&&Y[q].call(e,D)}}var gn=["evt"],N=function(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=t.evt,i=an(t,gn);Oe.pluginEvent.bind(p)(e,n,j({dragEl:d,parentEl:x,ghostEl:g,rootEl:_,nextEl:le,lastDownEl:Re,cloneEl:S,cloneHidden:ee,dragStarted:we,putSortable:I,activeSortable:p.active,originalEvent:o,oldIndex:ce,oldDraggableIndex:xe,newIndex:B,newDraggableIndex:J,hideGhostForTarget:Bt,unhideGhostForTarget:Xt,cloneNowHidden:function(){ee=!0},cloneNowShown:function(){ee=!1},dispatchSortableEvent:function(l){P({sortable:n,name:l,originalEvent:o})}},i))};function P(r){pn(j({putSortable:I,cloneEl:S,targetEl:d,rootEl:_,oldIndex:ce,oldDraggableIndex:xe,newIndex:B,newDraggableIndex:J},r))}var d,x,g,_,le,Re,S,ee,ce,B,xe,J,Pe,I,de=!1,He=!1,Ge=[],ie,H,Ke,Qe,Et,Dt,we,ue,Te,Ce=!1,Ne=!1,Be,O,Ze=[],rt=!1,We=[],je=typeof document<"u",Fe=st,_t=Ie||K?"cssFloat":"float",mn=je&&!Tt&&!st&&"draggable"in document.createElement("div"),Mt=(function(){if(je){if(K)return!1;var r=document.createElement("x");return r.style.cssText="pointer-events:auto",r.style.pointerEvents==="auto"}})(),kt=function(e,n){var t=h(e),o=parseInt(t.width)-parseInt(t.paddingLeft)-parseInt(t.paddingRight)-parseInt(t.borderLeftWidth)-parseInt(t.borderRightWidth),i=pe(e,0,n),a=pe(e,1,n),l=i&&h(i),s=a&&h(a),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+C(i).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+C(a).width;if(t.display==="flex")return t.flexDirection==="column"||t.flexDirection==="column-reverse"?"vertical":"horizontal";if(t.display==="grid")return t.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&l.float&&l.float!=="none"){var f=l.float==="left"?"left":"right";return a&&(s.clear==="both"||s.clear===f)?"vertical":"horizontal"}return i&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=o&&t[_t]==="none"||a&&t[_t]==="none"&&u+c>o)?"vertical":"horizontal"},vn=function(e,n,t){var o=t?e.left:e.top,i=t?e.right:e.bottom,a=t?e.width:e.height,l=t?n.left:n.top,s=t?n.right:n.bottom,u=t?n.width:n.height;return o===l||i===s||o+a/2===l+u/2},bn=function(e,n){var t;return Ge.some(function(o){var i=o[F].options.emptyInsertThreshold;if(!(!i||ut(o))){var a=C(o),l=e>=a.left-i&&e<=a.right+i,s=n>=a.top-i&&n<=a.bottom+i;if(l&&s)return t=o}}),t},Rt=function(e){function n(i,a){return function(l,s,u,c){var f=l.options.group.name&&s.options.group.name&&l.options.group.name===s.options.group.name;if(i==null&&(a||f))return!0;if(i==null||i===!1)return!1;if(a&&i==="clone")return i;if(typeof i=="function")return n(i(l,s,u,c),a)(l,s,u,c);var m=(a?l:s).options.group.name;return i===!0||typeof i=="string"&&i===m||i.join&&i.indexOf(m)>-1}}var t={},o=e.group;(!o||ke(o)!="object")&&(o={name:o}),t.name=o.name,t.checkPull=n(o.pull,!0),t.checkPut=n(o.put),t.revertClone=o.revertClone,e.group=t},Bt=function(){!Mt&&g&&h(g,"display","none")},Xt=function(){!Mt&&g&&h(g,"display","")};je&&!Tt&&document.addEventListener("click",function(r){if(He)return r.preventDefault(),r.stopPropagation&&r.stopPropagation(),r.stopImmediatePropagation&&r.stopImmediatePropagation(),He=!1,!1},!0);var ae=function(e){if(d){e=e.touches?e.touches[0]:e;var n=bn(e.clientX,e.clientY);if(n){var t={};for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.target=t.rootEl=n,t.preventDefault=void 0,t.stopPropagation=void 0,n[F]._onDragOver(t)}}},yn=function(e){d&&d.parentNode[F]._isOutsideThisEl(e.target)};function p(r,e){if(!(r&&r.nodeType&&r.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(r));this.el=r,this.options=e=U({},e),r[F]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(r.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return kt(r,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,l){a.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:p.supportPointer!==!1&&"PointerEvent"in window&&(!_e||st),emptyInsertThreshold:5};Oe.initializePlugins(this,r,n);for(var t in n)!(t in e)&&(e[t]=n[t]);Rt(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:mn,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?y(r,"pointerdown",this._onTapStart):(y(r,"mousedown",this._onTapStart),y(r,"touchstart",this._onTapStart)),this.nativeDraggable&&(y(r,"dragover",this),y(r,"dragenter",this)),Ge.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),U(this,cn())}p.prototype={constructor:p,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ue=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,d):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,t=this.el,o=this.options,i=o.preventOnFilter,a=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,s=(l||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=o.filter;if(Cn(t),!d&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||o.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&_e&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=G(s,o.draggable,t,!1),!(s&&s.animated)&&Re!==s)){if(ce=X(s),xe=X(s,o.draggable),typeof c=="function"){if(c.call(this,e,s,this)){P({sortable:n,rootEl:u,name:"filter",targetEl:s,toEl:t,fromEl:t}),N("filter",n,{evt:e}),i&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(f){if(f=G(u,f.trim(),t,!1),f)return P({sortable:n,rootEl:f,name:"filter",targetEl:s,fromEl:t,toEl:t}),N("filter",n,{evt:e}),!0}),c)){i&&e.preventDefault();return}o.handle&&!G(u,o.handle,t,!1)||this._prepareDragStart(e,l,s)}}},_prepareDragStart:function(e,n,t){var o=this,i=o.el,a=o.options,l=i.ownerDocument,s;if(t&&!d&&t.parentNode===i){var u=C(t);if(_=i,d=t,x=d.parentNode,le=d.nextSibling,Re=t,Pe=a.group,p.dragged=d,ie={target:d,clientX:(n||e).clientX,clientY:(n||e).clientY},Et=ie.clientX-u.left,Dt=ie.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,d.style["will-change"]="all",s=function(){if(N("delayEnded",o,{evt:e}),p.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!vt&&o.nativeDraggable&&(d.draggable=!0),o._triggerDragStart(e,n),P({sortable:o,name:"choose",originalEvent:e}),R(d,a.chosenClass,!0)},a.ignore.split(",").forEach(function(c){Ot(d,c.trim(),Je)}),y(l,"dragover",ae),y(l,"mousemove",ae),y(l,"touchmove",ae),a.supportPointer?(y(l,"pointerup",o._onDrop),!this.nativeDraggable&&y(l,"pointercancel",o._onDrop)):(y(l,"mouseup",o._onDrop),y(l,"touchend",o._onDrop),y(l,"touchcancel",o._onDrop)),vt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,d.draggable=!0),N("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Ie||K))){if(p.eventCanceled){this._onDrop();return}a.supportPointer?(y(l,"pointerup",o._disableDelayedDrag),y(l,"pointercancel",o._disableDelayedDrag)):(y(l,"mouseup",o._disableDelayedDrag),y(l,"touchend",o._disableDelayedDrag),y(l,"touchcancel",o._disableDelayedDrag)),y(l,"mousemove",o._delayedDragTouchMoveHandler),y(l,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&y(l,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(s,a.delay)}else s()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){d&&Je(d),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._disableDelayedDrag),v(e,"touchend",this._disableDelayedDrag),v(e,"touchcancel",this._disableDelayedDrag),v(e,"pointerup",this._disableDelayedDrag),v(e,"pointercancel",this._disableDelayedDrag),v(e,"mousemove",this._delayedDragTouchMoveHandler),v(e,"touchmove",this._delayedDragTouchMoveHandler),v(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?y(document,"pointermove",this._onTouchMove):n?y(document,"touchmove",this._onTouchMove):y(document,"mousemove",this._onTouchMove):(y(d,"dragend",this),y(_,"dragstart",this._onDragStart));try{document.selection?Xe(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(de=!1,_&&d){N("dragStarted",this,{evt:n}),this.nativeDraggable&&y(document,"dragover",yn);var t=this.options;!e&&R(d,t.dragClass,!1),R(d,t.ghostClass,!0),p.active=this,e&&this._appendGhost(),P({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(H){this._lastX=H.clientX,this._lastY=H.clientY,Bt();for(var e=document.elementFromPoint(H.clientX,H.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(H.clientX,H.clientY),e!==n);)n=e;if(d.parentNode[F]._isOutsideThisEl(e),n)do{if(n[F]){var t=void 0;if(t=n[F]._onDragOver({clientX:H.clientX,clientY:H.clientY,target:e,rootEl:n}),t&&!this.options.dragoverBubble)break}e=n}while(n=It(n));Xt()}},_onTouchMove:function(e){if(ie){var n=this.options,t=n.fallbackTolerance,o=n.fallbackOffset,i=e.touches?e.touches[0]:e,a=g&&he(g,!0),l=g&&a&&a.a,s=g&&a&&a.d,u=Fe&&O&&wt(O),c=(i.clientX-ie.clientX+o.x)/(l||1)+(u?u[0]-Ze[0]:0)/(l||1),f=(i.clientY-ie.clientY+o.y)/(s||1)+(u?u[1]-Ze[1]:0)/(s||1);if(!p.active&&!de){if(t&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<t)return;this._onDragStart(e,!0)}if(g){a?(a.e+=c-(Ke||0),a.f+=f-(Qe||0)):a={a:1,b:0,c:0,d:1,e:c,f};var m="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");h(g,"webkitTransform",m),h(g,"mozTransform",m),h(g,"msTransform",m),h(g,"transform",m),Ke=c,Qe=f,H=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!g){var e=this.options.fallbackOnBody?document.body:_,n=C(d,!0,Fe,!0,e),t=this.options;if(Fe){for(O=e;h(O,"position")==="static"&&h(O,"transform")==="none"&&O!==document;)O=O.parentNode;O!==document.body&&O!==document.documentElement?(O===document&&(O=z()),n.top+=O.scrollTop,n.left+=O.scrollLeft):O=z(),Ze=wt(O)}g=d.cloneNode(!0),R(g,t.ghostClass,!1),R(g,t.fallbackClass,!0),R(g,t.dragClass,!0),h(g,"transition",""),h(g,"transform",""),h(g,"box-sizing","border-box"),h(g,"margin",0),h(g,"top",n.top),h(g,"left",n.left),h(g,"width",n.width),h(g,"height",n.height),h(g,"opacity","0.8"),h(g,"position",Fe?"absolute":"fixed"),h(g,"zIndex","100000"),h(g,"pointerEvents","none"),p.ghost=g,e.appendChild(g),h(g,"transform-origin",Et/parseInt(g.style.width)*100+"% "+Dt/parseInt(g.style.height)*100+"%")}},_onDragStart:function(e,n){var t=this,o=e.dataTransfer,i=t.options;if(N("dragStart",this,{evt:e}),p.eventCanceled){this._onDrop();return}N("setupClone",this),p.eventCanceled||(S=Nt(d),S.removeAttribute("id"),S.draggable=!1,S.style["will-change"]="",this._hideClone(),R(S,this.options.chosenClass,!1),p.clone=S),t.cloneId=Xe(function(){N("clone",t),!p.eventCanceled&&(t.options.removeCloneOnHide||_.insertBefore(S,d),t._hideClone(),P({sortable:t,name:"clone"}))}),!n&&R(d,i.dragClass,!0),n?(He=!0,t._loopId=setInterval(t._emulateDragOver,50)):(v(document,"mouseup",t._onDrop),v(document,"touchend",t._onDrop),v(document,"touchcancel",t._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(t,o,d)),y(document,"drop",t),h(d,"transform","translateZ(0)")),de=!0,t._dragStartId=Xe(t._dragStarted.bind(t,n,e)),y(document,"selectstart",t),we=!0,window.getSelection().removeAllRanges(),_e&&h(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,t=e.target,o,i,a,l=this.options,s=l.group,u=p.active,c=Pe===s,f=l.sort,m=I||u,E,b=this,D=!1;if(rt)return;function Y(ye,Lt){N(ye,b,j({evt:e,isOwner:c,axis:E?"vertical":"horizontal",revert:a,dragRect:o,targetRect:i,canSort:f,fromSortable:m,target:t,completed:A,onMove:function(ft,Ht){return Me(_,n,d,o,ft,C(ft),e,Ht)},changed:L},Lt))}function q(){Y("dragOverAnimationCapture"),b.captureAnimationState(),b!==m&&m.captureAnimationState()}function A(ye){return Y("dragOverCompleted",{insertion:ye}),ye&&(c?u._hideClone():u._showClone(b),b!==m&&(R(d,I?I.options.ghostClass:u.options.ghostClass,!1),R(d,l.ghostClass,!0)),I!==b&&b!==p.active?I=b:b===p.active&&I&&(I=null),m===b&&(b._ignoreWhileAnimating=t),b.animateAll(function(){Y("dragOverAnimationComplete"),b._ignoreWhileAnimating=null}),b!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(t===d&&!d.animated||t===n&&!t.animated)&&(ue=null),!l.dragoverBubble&&!e.rootEl&&t!==document&&(d.parentNode[F]._isOutsideThisEl(e.target),!ye&&ae(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),D=!0}function L(){B=X(d),J=X(d,l.draggable),P({sortable:b,name:"change",toEl:n,newIndex:B,newDraggableIndex:J,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),t=G(t,l.draggable,n,!0),Y("dragOver"),p.eventCanceled)return D;if(d.contains(e.target)||t.animated&&t.animatingX&&t.animatingY||b._ignoreWhileAnimating===t)return A(!1);if(He=!1,u&&!l.disabled&&(c?f||(a=x!==_):I===this||(this.lastPutMode=Pe.checkPull(this,u,d,e))&&s.checkPut(this,u,d,e))){if(E=this._getDirection(e,t)==="vertical",o=C(d),Y("dragOverValid"),p.eventCanceled)return D;if(a)return x=_,q(),this._hideClone(),Y("revert"),p.eventCanceled||(le?_.insertBefore(d,le):_.appendChild(d)),A(!0);var M=ut(n,l.draggable);if(!M||_n(e,E,this)&&!M.animated){if(M===d)return A(!1);if(M&&n===e.target&&(t=M),t&&(i=C(t)),Me(_,n,d,o,t,i,e,!!t)!==!1)return q(),M&&M.nextSibling?n.insertBefore(d,M.nextSibling):n.appendChild(d),x=n,L(),A(!0)}else if(M&&Dn(e,E,this)){var ne=pe(n,0,l,!0);if(ne===d)return A(!1);if(t=ne,i=C(t),Me(_,n,d,o,t,i,e,!1)!==!1)return q(),n.insertBefore(d,ne),x=n,L(),A(!0)}else if(t.parentNode===n){i=C(t);var W=0,re,ge=d.parentNode!==n,k=!vn(d.animated&&d.toRect||o,t.animated&&t.toRect||i,E),me=E?"top":"left",Q=yt(t,"top","top")||yt(d,"top","top"),ve=Q?Q.scrollTop:void 0;ue!==t&&(re=i[me],Ce=!1,Ne=!k&&l.invertSwap||ge),W=Sn(e,t,i,E,k?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,Ne,ue===t);var $;if(W!==0){var oe=X(d);do oe-=W,$=x.children[oe];while($&&(h($,"display")==="none"||$===g))}if(W===0||$===t)return A(!1);ue=t,Te=W;var be=t.nextElementSibling,Z=!1;Z=W===1;var Ae=Me(_,n,d,o,t,i,e,Z);if(Ae!==!1)return(Ae===1||Ae===-1)&&(Z=Ae===1),rt=!0,setTimeout(En,30),q(),Z&&!be?n.appendChild(d):t.parentNode.insertBefore(d,Z?be:t),Q&&Pt(Q,0,ve-Q.scrollTop),x=d.parentNode,re!==void 0&&!Ne&&(Be=Math.abs(re-C(t)[me])),L(),A(!0)}if(n.contains(d))return A(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){v(document,"mousemove",this._onTouchMove),v(document,"touchmove",this._onTouchMove),v(document,"pointermove",this._onTouchMove),v(document,"dragover",ae),v(document,"mousemove",ae),v(document,"touchmove",ae)},_offUpEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._onDrop),v(e,"touchend",this._onDrop),v(e,"pointerup",this._onDrop),v(e,"pointercancel",this._onDrop),v(e,"touchcancel",this._onDrop),v(document,"selectstart",this)},_onDrop:function(e){var n=this.el,t=this.options;if(B=X(d),J=X(d,t.draggable),N("drop",this,{evt:e}),x=d&&d.parentNode,B=X(d),J=X(d,t.draggable),p.eventCanceled){this._nulling();return}de=!1,Ne=!1,Ce=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ot(this.cloneId),ot(this._dragStartId),this.nativeDraggable&&(v(document,"drop",this),v(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),_e&&h(document.body,"user-select",""),h(d,"transform",""),e&&(we&&(e.cancelable&&e.preventDefault(),!t.dropBubble&&e.stopPropagation()),g&&g.parentNode&&g.parentNode.removeChild(g),(_===x||I&&I.lastPutMode!=="clone")&&S&&S.parentNode&&S.parentNode.removeChild(S),d&&(this.nativeDraggable&&v(d,"dragend",this),Je(d),d.style["will-change"]="",we&&!de&&R(d,I?I.options.ghostClass:this.options.ghostClass,!1),R(d,this.options.chosenClass,!1),P({sortable:this,name:"unchoose",toEl:x,newIndex:null,newDraggableIndex:null,originalEvent:e}),_!==x?(B>=0&&(P({rootEl:x,name:"add",toEl:x,fromEl:_,originalEvent:e}),P({sortable:this,name:"remove",toEl:x,originalEvent:e}),P({rootEl:x,name:"sort",toEl:x,fromEl:_,originalEvent:e}),P({sortable:this,name:"sort",toEl:x,originalEvent:e})),I&&I.save()):B!==ce&&B>=0&&(P({sortable:this,name:"update",toEl:x,originalEvent:e}),P({sortable:this,name:"sort",toEl:x,originalEvent:e})),p.active&&((B==null||B===-1)&&(B=ce,J=xe),P({sortable:this,name:"end",toEl:x,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){N("nulling",this),_=d=x=g=le=S=Re=ee=ie=H=we=B=J=ce=xe=ue=Te=I=Pe=p.dragged=p.ghost=p.clone=p.active=null,We.forEach(function(e){e.checked=!0}),We.length=Ke=Qe=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":d&&(this._onDragOver(e),wn(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,t=this.el.children,o=0,i=t.length,a=this.options;o<i;o++)n=t[o],G(n,a.draggable,this.el,!1)&&e.push(n.getAttribute(a.dataIdAttr)||Tn(n));return e},sort:function(e,n){var t={},o=this.el;this.toArray().forEach(function(i,a){var l=o.children[a];G(l,this.options.draggable,o,!1)&&(t[i]=l)},this),n&&this.captureAnimationState(),e.forEach(function(i){t[i]&&(o.removeChild(t[i]),o.appendChild(t[i]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return G(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var t=this.options;if(n===void 0)return t[e];var o=Oe.modifyOption(this,e,n);typeof o<"u"?t[e]=o:t[e]=n,e==="group"&&Rt(t)},destroy:function(){N("destroy",this);var e=this.el;e[F]=null,v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart),v(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ge.splice(Ge.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ee){if(N("hideClone",this),p.eventCanceled)return;h(S,"display","none"),this.options.removeCloneOnHide&&S.parentNode&&S.parentNode.removeChild(S),ee=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ee){if(N("showClone",this),p.eventCanceled)return;d.parentNode==_&&!this.options.group.revertClone?_.insertBefore(S,d):le?_.insertBefore(S,le):_.appendChild(S),this.options.group.revertClone&&this.animate(d,S),h(S,"display",""),ee=!1}}};function wn(r){r.dataTransfer&&(r.dataTransfer.dropEffect="move"),r.cancelable&&r.preventDefault()}function Me(r,e,n,t,o,i,a,l){var s,u=r[F],c=u.options.onMove,f;return window.CustomEvent&&!K&&!Ie?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=e,s.from=r,s.dragged=n,s.draggedRect=t,s.related=o||e,s.relatedRect=i||C(e),s.willInsertAfter=l,s.originalEvent=a,r.dispatchEvent(s),c&&(f=c.call(u,s,a)),f}function Je(r){r.draggable=!1}function En(){rt=!1}function Dn(r,e,n){var t=C(pe(n.el,0,n.options,!0)),o=Ft(n.el,n.options,g),i=10;return e?r.clientX<o.left-i||r.clientY<t.top&&r.clientX<t.right:r.clientY<o.top-i||r.clientY<t.bottom&&r.clientX<t.left}function _n(r,e,n){var t=C(ut(n.el,n.options.draggable)),o=Ft(n.el,n.options,g),i=10;return e?r.clientX>o.right+i||r.clientY>t.bottom&&r.clientX>t.left:r.clientY>o.bottom+i||r.clientX>t.right&&r.clientY>t.top}function Sn(r,e,n,t,o,i,a,l){var s=t?r.clientY:r.clientX,u=t?n.height:n.width,c=t?n.top:n.left,f=t?n.bottom:n.right,m=!1;if(!a){if(l&&Be<u*o){if(!Ce&&(Te===1?s>c+u*i/2:s<f-u*i/2)&&(Ce=!0),Ce)m=!0;else if(Te===1?s<c+Be:s>f-Be)return-Te}else if(s>c+u*(1-o)/2&&s<f-u*(1-o)/2)return xn(e)}return m=m||a,m&&(s<c+u*i/2||s>f-u*i/2)?s>c+u/2?1:-1:0}function xn(r){return X(d)<X(r)?1:-1}function Tn(r){for(var e=r.tagName+r.className+r.src+r.href+r.textContent,n=e.length,t=0;n--;)t+=e.charCodeAt(n);return t.toString(36)}function Cn(r){We.length=0;for(var e=r.getElementsByTagName("input"),n=e.length;n--;){var t=e[n];t.checked&&We.push(t)}}function Xe(r){return setTimeout(r,0)}function ot(r){return clearTimeout(r)}je&&y(document,"touchmove",function(r){(p.active||de)&&r.cancelable&&r.preventDefault()});p.utils={on:y,off:v,css:h,find:Ot,is:function(e,n){return!!G(e,n,e,!1)},extend:un,throttle:At,closest:G,toggleClass:R,clone:Nt,index:X,nextTick:Xe,cancelNextTick:ot,detectDirection:kt,getChild:pe,expando:F};p.get=function(r){return r[F]};p.mount=function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(p.utils=j(j({},p.utils),t.utils)),Oe.mount(t)})};p.create=function(r,e){return new p(r,e)};p.version=ln;var T=[],Ee,it,at=!1,et,tt,ze,De;function In(){function r(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return r.prototype={dragStarted:function(n){var t=n.originalEvent;this.sortable.nativeDraggable?y(document,"dragover",this._handleAutoScroll):this.options.supportPointer?y(document,"pointermove",this._handleFallbackAutoScroll):t.touches?y(document,"touchmove",this._handleFallbackAutoScroll):y(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var t=n.originalEvent;!this.options.dragOverBubble&&!t.rootEl&&this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):(v(document,"pointermove",this._handleFallbackAutoScroll),v(document,"touchmove",this._handleFallbackAutoScroll),v(document,"mousemove",this._handleFallbackAutoScroll)),St(),Ye(),dn()},nulling:function(){ze=it=Ee=at=De=et=tt=null,T.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,t){var o=this,i=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,l=document.elementFromPoint(i,a);if(ze=n,t||this.options.forceAutoScrollFallback||Ie||K||_e){nt(n,this.options,l,t);var s=te(l,!0);at&&(!De||i!==et||a!==tt)&&(De&&St(),De=setInterval(function(){var u=te(document.elementFromPoint(i,a),!0);u!==s&&(s=u,Ye()),nt(n,o.options,u,t)},10),et=i,tt=a)}else{if(!this.options.bubbleScroll||te(l,!0)===z()){Ye();return}nt(n,this.options,te(l,!1),!1)}}},U(r,{pluginName:"scroll",initializeByDefault:!0})}function Ye(){T.forEach(function(r){clearInterval(r.pid)}),T=[]}function St(){clearInterval(De)}var nt=At(function(r,e,n,t){if(e.scroll){var o=(r.touches?r.touches[0]:r).clientX,i=(r.touches?r.touches[0]:r).clientY,a=e.scrollSensitivity,l=e.scrollSpeed,s=z(),u=!1,c;it!==n&&(it=n,Ye(),Ee=e.scroll,c=e.scrollFn,Ee===!0&&(Ee=te(n,!0)));var f=0,m=Ee;do{var E=m,b=C(E),D=b.top,Y=b.bottom,q=b.left,A=b.right,L=b.width,M=b.height,ne=void 0,W=void 0,re=E.scrollWidth,ge=E.scrollHeight,k=h(E),me=E.scrollLeft,Q=E.scrollTop;E===s?(ne=L<re&&(k.overflowX==="auto"||k.overflowX==="scroll"||k.overflowX==="visible"),W=M<ge&&(k.overflowY==="auto"||k.overflowY==="scroll"||k.overflowY==="visible")):(ne=L<re&&(k.overflowX==="auto"||k.overflowX==="scroll"),W=M<ge&&(k.overflowY==="auto"||k.overflowY==="scroll"));var ve=ne&&(Math.abs(A-o)<=a&&me+L<re)-(Math.abs(q-o)<=a&&!!me),$=W&&(Math.abs(Y-i)<=a&&Q+M<ge)-(Math.abs(D-i)<=a&&!!Q);if(!T[f])for(var oe=0;oe<=f;oe++)T[oe]||(T[oe]={});(T[f].vx!=ve||T[f].vy!=$||T[f].el!==E)&&(T[f].el=E,T[f].vx=ve,T[f].vy=$,clearInterval(T[f].pid),(ve!=0||$!=0)&&(u=!0,T[f].pid=setInterval(function(){t&&this.layer===0&&p.active._onTouchMove(ze);var be=T[this.layer].vy?T[this.layer].vy*l:0,Z=T[this.layer].vx?T[this.layer].vx*l:0;typeof c=="function"&&c.call(p.dragged.parentNode[F],Z,be,r,ze,T[this.layer].el)!=="continue"||Pt(T[this.layer].el,Z,be)}.bind({layer:f}),24))),f++}while(e.bubbleScroll&&m!==s&&(m=te(m,!1)));at=u}},30),Yt=function(e){var n=e.originalEvent,t=e.putSortable,o=e.dragEl,i=e.activeSortable,a=e.dispatchSortableEvent,l=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(n){var u=t||i;l();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,f=document.elementFromPoint(c.clientX,c.clientY);s(),u&&!u.el.contains(f)&&(a("spill"),this.onSpill({dragEl:o,putSortable:t}))}};function dt(){}dt.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,t=e.putSortable;this.sortable.captureAnimationState(),t&&t.captureAnimationState();var o=pe(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(n,o):this.sortable.el.appendChild(n),this.sortable.animateAll(),t&&t.animateAll()},drop:Yt};U(dt,{pluginName:"revertOnSpill"});function ct(){}ct.prototype={onSpill:function(e){var n=e.dragEl,t=e.putSortable,o=t||this.sortable;o.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),o.animateAll()},drop:Yt};U(ct,{pluginName:"removeOnSpill"});p.mount(new In);p.mount(ct,dt);const On=lt({name:"PageItem",props:{data:{type:Object,required:!0},onDelete:{type:Function,required:!0}},setup(r){return()=>{const e=r.data;return w("div",{class:"group flex items-center gap-3 border-b border-neutral-200 px-4 py-3 transition-colors last:border-b-0 hover:bg-neutral-50 dark:border-neutral-800 dark:hover:bg-neutral-900/50"},[w(nn,{class:"drag-handle h-4 w-4 shrink-0 cursor-grab text-neutral-300 hover:text-neutral-500 active:cursor-grabbing dark:text-neutral-600 dark:hover:text-neutral-400"},null),w("div",{class:"min-w-0 flex-1"},[w("div",{class:"flex items-center gap-4"},[w("span",{class:"truncate text-sm font-medium text-neutral-900 dark:text-neutral-100"},[e.title])]),w("div",{class:"mt-0.5 flex items-center gap-3"},[w("span",{class:"text-xs text-neutral-500 dark:text-neutral-400"},[fe("/"),e.slug]),e.subtitle&&w("span",{class:"truncate text-xs text-neutral-400 dark:text-neutral-500"},[e.subtitle])])]),w("div",{class:"flex shrink-0 items-center"},[w(Kt,{time:e.created,class:"text-xs text-neutral-400 group-hover:hidden dark:text-neutral-500"},null),w("div",{class:"hidden items-center gap-1 group-hover:flex"},[w(xt,{to:`/pages/edit?id=${e.id}`},{default:()=>[w(qe,{quaternary:!0,size:"tiny",class:"!px-2"},{icon:()=>w(Qt,{class:"h-3.5 w-3.5 text-neutral-500"},null)})]}),w("a",{href:`/${e.slug}`,target:"_blank",rel:"noopener noreferrer"},[w(qe,{quaternary:!0,size:"tiny",class:"!px-2"},{icon:()=>w(Zt,{class:"h-3.5 w-3.5 text-neutral-500"},null)})]),w(Jt,{positiveText:"取消",negativeText:"删除",onNegativeClick:()=>r.onDelete(e.id)},{trigger:()=>w(qe,{quaternary:!0,size:"tiny",class:"!px-2"},{icon:()=>w(en,{class:"h-3.5 w-3.5 text-red-500"},null)}),default:()=>w("span",{class:"max-w-48"},[fe("确定要删除「"),e.title,fe("」？")])})])])])}}}),An=lt({name:"EmptyState",setup(){return()=>w("div",{class:"flex flex-col items-center justify-center py-16"},[w(tn,{class:"mb-4 h-12 w-12 text-neutral-300 dark:text-neutral-600"},null),w("p",{class:"text-sm text-neutral-500 dark:text-neutral-400"},[fe("还没有页面")]),w(xt,{to:"/pages/edit",class:"mt-4 text-sm text-blue-500 hover:text-blue-600 hover:underline"},{default:()=>[fe("创建第一个页面")]})])}}),Pn=(r,e,n)=>{const t=Array.from(r),[o]=t.splice(e,1);return t.splice(n,0,o),t},Bn=lt({name:"PageList",setup(){const r=Gt(),{data:e,isLoading:n}=Wt({queryKey:gt.pages.list(),queryFn:()=>$e.getList({page:1,size:50,select:"title subtitle _id id created modified slug"})}),t=ht([]);zt(()=>{e.value?.data&&(t.value=[...e.value.data])});const o=pt({mutationFn:$e.delete,onSuccess:()=>{message.success("删除成功"),r.invalidateQueries({queryKey:gt.pages.all})}}),i=pt({mutationFn:$e.reorder,onSuccess:()=>{message.success("排序成功")}}),a=c=>{t.value=t.value.filter(f=>f.id!==c),o.mutate(c)},l=ht();let s=null;jt(()=>t.value,()=>{t.value.length!==0&&requestAnimationFrame(()=>{l.value&&(s=new p(l.value,{animation:150,handle:".drag-handle",ghostClass:"opacity-50",chosenClass:"!bg-neutral-100 dark:!bg-neutral-800",onEnd(c){if(typeof c.oldIndex>"u"||typeof c.newIndex>"u"||c.oldIndex===c.newIndex)return;const f=Pn(t.value,c.oldIndex,c.newIndex);t.value=f;const m=[...f].reverse().map((E,b)=>({id:E.id,order:b+1}));i.mutate(m)}}))})}),qt(()=>s?.destroy());const{setActions:u}=$t();return u(w(Ut,{to:"/pages/edit",icon:w(Vt,null,null)},null)),()=>w("div",{class:"overflow-hidden rounded-lg border border-neutral-200 bg-white dark:border-neutral-800 dark:bg-neutral-900"},[n.value?w("div",{class:"flex items-center justify-center py-16"},[w("span",{class:"text-sm text-neutral-400"},[fe("加载中...")])]):t.value.length===0?w(An,null,null):w("div",{ref:l},[t.value.map(c=>w(On,{data:c,key:c.id,onDelete:a},null))])])}});export{Bn as ManagePageListView};
